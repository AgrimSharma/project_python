<table class='table table-striped table-bordered awb-correction-table'>
  <tr>
      <td>Awb No: {{ shipment.airwaybill_number }}</td>
      <td>Product: {{ shipment.product_type }}</td>
      <td>Origin: {{ shipment.pickup.service_centre.city.city_shortcode }}</td>
      <td>Origin SC: {{ shipment.pickup.service_centre.center_shortcode }}</td>
      <td>Destn: <span class="awbedit_select">{{ shipment.original_dest.city.city_shortcode }}</span>
          <input type="text" id="destination_city" class="hide" data-field="s-destination_city" value="{{ shipment.destination_city }}"></td>
      <td>Destn SC: <span class="awbedit" >{{ shipment.original_dest.center_shortcode }}</span><input type="text" class="hide" data-field="sc-original_dest" value="{{ shipment.original_dest }}"></td>
      <td>Pcs:1 </td>
      <td></td>
  </tr>
  <tr>
      <td colspan=2>Customer Code: {{ shipment.shipper.code }} </td>
      <td colspan=2>Sub Customer Code: <span class="awbedit">{{ shipment.pickup.subcustomer_code.id }}</span><input type="text" class="hide" data-field="sub-subcustomer_code" value="{{ shipment.pickup.subcustomer_code.id }}"></td>
      <td colspan=4></td>
  </tr>
  <tr>
      <td colspan=4>
          <pre>
    Shipper Details:
    Name   : {{ shipment.shipper.name }}
    Address:{{ shipment.shipper.address.address1 }}
            {{ shipment.shipper.address.address2 }}
            {{ shipment.shipper.address.address3 }}
            {{ shipment.shipper.address.address4 }}
    City   :{{ shipment.shipper.address.city }}
    Phone  :{{ shipment.shipper.address.phone }}
    Pincode:{{ shipment.shipper.address.pincode }}
    State  :{{ shipment.shipper.address.state }}
          </pre>
      </td>
      <td colspan=4>
          <pre>
    Consignee Details:
    Address: <span class="awbedit">{{ shipment.consignee }}</span><input type="text" class="hide" data-field="s-consignee" value="{{ shipment.consignee }}">
             <span class="awbedit">{{ shipment.consignee_address1 }}</span><input type="text" class="hide" data-field="s-consignee_address1" value="{{ shipment.consignee_address1 }}">

             <span class="awbedit">{{ shipment.consignee_address2 }}</span><input type="text" class="hide" data-field="s-consignee_address2" value="{{ shipment.consignee_address2 }}">
             <span class="awbedit">{{ shipment.consignee_address3 }}</span><input type="text" class="hide" data-field="s-consignee_address3" value="{{ shipment.consignee_address3 }}">
             <span class="awbedit">{{ shipment.consignee_address4 }}</span><input type="text" class="hide" data-field="s-consignee_address4" value="{{ shipment.consignee_address4 }}">



          </pre>
      </td>
  </tr>
  <tr>
      <td>{% ifequal shipment.sdd 1 %}<span class="btn btn-primary">SDD</span>{% endifequal %}
          {% ifequal shipment.sdl 1 %}<span class="btn btn-primary">SDL</span>{% endifequal %}
          {% ifequal shipment.rts_status 1 %}<span class="btn btn-primary">RTO</span>{% endifequal %}</td>
      <td colspan=2>Pickup Date: {{ shipment.pickup.pickup_date }}</td>
      <td>Pickup Time: {{ shipment.pickup.pickup_time }}</td>
      <td colspan=2>Actual weight:</td>
      <td colspan=2><span class="awbedit">{{ shipment.actual_weight }}Kg</span><input type="text" class="hide" data-field="s-actual_weight" value="{{ shipment.actual_weight }}"></td>
  </tr>
  <tr>
      <td colspan=2>Sdd Amount:</td>
      <td colspan=2><span  class="">{{ order_price.sdd_charge }}</span><input type="text" class="hide" data-field="o-sdd_charge" value="{{ order_price.sdd_charge }}"></td>
      <td colspan=2>Chargeable Weight:</td>
      <td colspan=2>{{ shipment.chargeable_weight }}Kg</td>
  </tr>

  <tr>
      <td colspan=2>Sdl Amount:</td>
      <td colspan=2><span class="">{{ order_price.sdl_charge }}</span><input type="text" class="hide" data-field="o-sdl_charge" value="{{ order_price.sdl_charge }}"></td>
      <td colspan=2>Freight:</td>
      <td colspan=2><span  class="">{{ order_price.freight_charge }}</span><input type="text" class="hide" data-field="o-freight_charge" value="{{ order_price.freight_charge }}"></td>
  </tr>
  <tr>
      <td colspan=2>RTO Amount:</td>
      <td colspan=2>{% if shipment.rts_status == 1 %} -{{ shipment.collectable_value }} {% else %} 0 {% endif %} </td>
      <td colspan=2>Fuel Surcharge:</td>
      <td colspan=2><span class="">{{ order_price.fuel_surcharge }}</span><input type="text" class="hide" data-field="o-fuel_surcharge" value="{{ order_price.fuel_surcharge }}"></td>
  </tr>
  <tr>
      <td colspan=2>Tab Amount: </td>
      <td colspan=2>0.0</td>
      <td colspan=2>Stax: </td>
      <td colspan=2>0.0</td>
  </tr>
  <tr>
      <td colspan=2>Reverse charge Amount:</td>
      <td colspan=2><span class="">{{ order_price.reverse_charge }}</span><input type="text" class="hide" data-field="o-reverse_charge" value="{{ order_price.reverse_charge }}"></td>
      <td colspan=2>Edu. Cess Tax: </td>
      <td colspan=2>0.0</td>
  </tr>
  <tr>
      <td colspan=2>Tab Amount:</td>
      <td colspan=2>0.0</td>
      <td colspan=2>HCess Tax:</td>
      <td colspan=2>0.0</td>
  </tr>
  <tr>
      <td colspan=2>Cod Charge Amount:</td>
      <td colspan=2><span  class="">{{ codcharge.cod_charge }}</span><input type="text" class="hide" data-field="c-cod_charge" value="{{ codcharge.cod_charge }}"></td>
      <td colspan=2>Total:</td>
      <td colspan=2>{{ total }}</td>
  </tr>
  <tr>
      <td colspan=2>Collectable Amount:</td>
      <td colspan=2><span  class="awbedit">{{ shipment.collectable_value }}</span><input type="text" class="hide" data-field="s-collectable_value" value="{{ shipment.collectable_value }}"></td>
      <td colspan=2>Length: </td>
      <td colspan=2><span  class="awbedit">{{ shipment.length }}</span><input type="text" class="hide" data-field="s-length" value="{{ shipment.length }}"></td>
  </tr>
  <tr>
      <td colspan=2 >Declare Value:</td>
      <td colspan=2><span class="awbedit">{{ shipment.declared_value }}</span><input type="text" class="hide" data-field="s-declared_value" value="{{ shipment.declared_value }}"></td>
      <td colspan=2>Breadth:</td>
      <td colspan=2><span class="awbedit">{{ shipment.breadth }}</span><input type="text" class="hide" data-field="s-breadth" value="{{ shipment.breadth }}"></td>
  </tr>
  <tr>
      <td colspan=2>VCHC Charges:</td>
      <td colspan=2><span class="">{{ order_price.valuable_cargo_handling_charge }}</span><input type="text" class="hide" data-field="o-valuable_cargo_handling_charge" value="{{ order_price.valuable_cargo_handling_charge }}"></td>
      <td colspan=2>Height: </td>
      <td colspan=2><span class="awbedit">{{ shipment.height}}</span><input type="text" class="hide" data-field="s-height" value="{{ shipment.height}}"></td>
  </tr>
  <tr>
      <td colspan=6></td>
      <td colspan=2><input type="button" class="btn btn-primary" value="save" id="awb_correction_submit"></td>
  <input type="hidden" id="correction_awb_number" data-val={{ shipment.airwaybill_number }} >
  <input type="hidden" id="is_editable" data-val={{ editable }} >
</table>
<div id="AwbCorrectionUpdateError" class="hide" style="width:35%; margin:10px auto;"></div>

<script type='text/javascript'>
    $(document).ready(function(){

    var is_editable = $("#is_editable").attr('data-val');
    if (!is_editable){
        $("table.awb-correction-table").find('.awbedit').each(
                function(i, v){ $(v).attr('class', ''); });
        $("table.awb-correction-table").find('.awbeditable').each(
                function(i, v){ $(v).attr('class', ''); });
    }

  $(".awbedit_select").live('click', function(){
      $(this).next('input').show();
      $(this).next('input').attr('class', 'awbactive');
      $(this).hide();
  });

  });

</script>
