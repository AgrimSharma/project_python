{% extends "base.html" %}

          		{% block content %}

<div id="wrap">
  
  <div class="container-fluid main" role="main" id="main">
  <div class="row-fluid">
    <div class="span12">
        <div class="pagination pull-left">
        <ul>
        <li><a href="#">Prev</a></li>
        <li><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">Next</a></li>
        </ul>
        </div>
{%include 'pickup/nav.html'%}
    </div>
  </div>
    
    <div class="row-fluid">
      <div class="span12">
        <div class="cust-details">
          <div class="cust-title">
            <i class="icon-exclamation-sign" style="font-size: 28px ; margin-right: 10px;margin-top: 2px;"></i> <span>Finders</span>
          </div>
          <div class="cust-content">
            <ul class="nav nav-tabs" id="myTab">
              <li class="active"><a data-toggle="tab" href="#productview" >Pincode View</a></li>
              <li><a data-toggle="tab" href="#domestic">Domestic Transit Time</a></li>
              <li><a data-toggle="tab" href="#volume">Volumetric Calculator</a></li>
            </ul>
            <div class="tab-content" id="myTabContent">
              <div id="productview" class="tab-pane fade active in">
                <form name="pincode_view" action=""> 
              	
              	<table class="table">
                	<tr>
                    
                        <td>Pincode</td><td><input type="text" name="pincode" class="pincode" style="width:60px"/></td>
                        <td>Area Code</td><td><input type="text" name="area_code" class="area_code" style="width:50px"/></td>
                        <td>Service Center</td><td><input type="text" name="service_centre" class="service_centre" style="width:50px"/></td>
                        <td>&nbsp; &nbsp;
 <input type="submit" name="submit" class="btn btn-primary search_pin" value="Search" />  

                        &nbsp; &nbsp;<a href="#" class="btn btn-primary">Cancel</a></td>
                    </tr>
                </table>
</form>                
                <hr>
                <table class="table tablepin">
                	<thead>
                    <tr>
                    
                    <th>Pincode </th>
                    <th>Area Code </th>
                    <th>Service Center </th>
                    </tr>
                     </thead>
                     <tbody>
                    
                     </tbody>
                </table>
                
              </div>
              <div id="domestic" class="tab-pane fade">
              	<table class="table">
                	<tr>
                    	<td>Origin Service Centre*: 
                    	<select style="width:80px" id="origin">
                        {%for a in sc%}
                    	<option value="{{a.center_shortcode}}">{{a.center_shortcode}}</option>
                    	{%endfor%}
                    	</select>
                    	</td>
                        <td>Destination Service Center: 
                        <select style="width:80px" id="destination">
                        <option value="">Select Service Centre</option>
                        {%for a in sc%}
                    	<option value="{{a.center_shortcode}}">{{a.center_shortcode}}</option>
                    	{%endfor%}
                    	</select>
                        </td>
                        <td>Destination Pincode: <input type="text" style="width:50px" id="dest_pincode"/></td>
                        <td>P/U Date: <input type="text"style="width:70px" class="pickup_date" value="{% now 'Y-m-d' %}"/></td>
                        <td>P/U Time: <input type="text"style="width:50px" class="pickup_time" value="{% now 'H:i' %}"/></td>
                        <tr><td>&nbsp; &nbsp;<a href="#" class="btn btn-primary search_transit">Search</a> <br/>&nbsp; </td></tr>
                    </tr>
                </table>
                <hr>
                <table class="table table-transit">
                	<thead>
                    <tr>
                    <th>Origin Service Centre</th>
                    <th>Destination Service Center </th>
                    <th>Destination Pincode </th>
                    <th>P/U Date </th>
                    <th>Delivery Date  </th>
                    </tr>
                     </thead>
                     <tbody>
                   
                     </tbody>
                </table>
              
              </div>
              <div id="volume" class="tab-pane fade">
              	 <form name="contact" action=""> 
              	<table style="margin-left:10px">
                <tr>
                    	<td>Product Code</td><td><select style="width:100px"><option>ALL</option><option>COD</option><option>Preaid</option></select></td>
                        <td>Pieces*</td><td><input type="text" name="pieces" class="pieces" style="width:70px"/></td>
                    </tr>
                    <tr>
                        <td>Length*</td><td><input type="text" class="length" name="length" style="width:70px"/></td></tr>
                      <tr>  <td>Width*</td><td><input type="text" class="width" name="width" style="width:70px"/></td></tr>
                       <tr> <td>Height*</td><td><input type="text" class="height" name="height" style="width:70px"/></td>
                    </tr>
                    <tr>
                        <td>For SFC, 1 CFT rate (in KGS)</td><td><input type="text"/></td>
                    </tr>
                    <tr>
                        <td>Customer Area</td><td><input type="text" style="width:200px"/></td>
                        <td>Code</td><td><input type="text" style="width:100px"/></td>
                    </tr>
                    <tr>
                        <td>Unit*</td>
                        <td><input  type="radio" class="unit" name="unit" value="cm" checked="checked"/> Centimeter
                        <input  type="radio" class="unit" name="unit" value="m"/> Meter
                        <input  type="radio" class="unit" name="unit" value="in"/> Inches
                        <input  type="radio" class="unit" name="unit" value="mm"/> Milimeter
                        <input  type="radio" class="unit" name="unit" value="ft"/> Feet</td>

                    </tr>
                   </table>
                  <label class="error" for="name" id="name_error">Fields marked as * are required.</label>  
 <input type="submit" name="submit" class="btn btn-primary calc-button" id="submit_btn" value="Calculate" />  
</form> 
                <div>
             		 <b>Weight (in KGS):<p id="message"></p></b>
                </div></div>
                
            </div>
            
          </div><!-- /cust-content -->
        </div>
      </div>
    </div><!-- /row-fluid -->
    
  </div><!-- /container-fluid -->
             
</div>
 <!-- modal -->
  <div class="modal hide modal-add-revlet" id="add-revlet">
    <div class="modal-header">
      <a class="close" data-dismiss="modal">Ã—</a>
      <h3Address</h3>
    </div>
    <div class="modal-body">
      
    </div>
  </div><!--modal end-->


<script>
$(".pickup_date").datepicker({ changeMonth: true, changeYear: true, dateFormat: "dd/mm/yy" });
$('.pickup_time').timepicker();

$(function(){
$('.error').hide(); 

$(".search_pin").click(function(){
var pincode = $("input.pincode").val();
var area_code = $("input.area_code").val();
var service_centre = $("input.service_centre").val();
var datastring = "pincode="+pincode+"&area_code="+area_code+"&service_centre="+service_centre;
$.ajax({
type:"POST",
url: "/pickup/pincode_view/",
data: datastring,
success: function(resp){
data=eval('(' + resp + ')');
$(".tablepin > tbody").html("<tr><td>"+data.pincode+"</td><td>"+data.area+"</td><td>"+data.service_centre+"</td></tr>"); 

//location.reload()
}
});

return false;

//$.ajax({
//type:"POST",
//url:"/pickup/pincode_view/",
//data:datastring,
//sucess:function(resp){
//alert("hi");
//data=eval('(' + resp + ')');
//alert(data);
//$(".table-pin > tbody").html("<tr><td>"+resp.pincode+"</td><td>"+resp.area+"</td><td>"+resp.service_centre+"</td></tr>"); 


//},
//error:function(resp){
//alert("Invalid Bag ID")
//}

//});
//return false;
});

$(".search_transit").click(function(){
var product


})

$(".calc-button").click(function(){
$('.error').hide(); 
var unit=$('input:radio[name=unit]:checked').val();
var lengtha=$("input.length").val();
var width=$("input.width").val();
var height=$("input.height").val();
var pieces=$("input.pieces").val();
if (lengtha=="" || width=="" || height=="" || pieces ==""){
$("label.error").show();
$("input#pieces").focus();
return false;
}
var datastring = "length="+lengtha+"&width="+width+"&height="+height+"&pieces="+pieces+"&unit="+unit;

//alert(datastring);return false;
$.ajax({
type:"POST",
url: "/pickup/volumetric_calculator/",
data: datastring,
success: function(resp){
$('#message').html(resp)
$('#volume_weight').val(resp)
 
}
});
return false;
});




$(".search_transit").click(function(){
var origin=$("select#origin").val();
var destination = $("select#destination").val();
var dest_pincode = $("input#dest_pincode").val();

var pickup_date = $("input.pickup_date").val();
var pickup_time = $("input.pickup_time").val();
var datastring = "origin="+origin+"&destination="+destination+"&dest_pincode="+dest_pincode+"&pickup_date="+pickup_date+"&pickup_time="+pickup_time;
$.ajax({
type:"POST",
url: "/pickup/transit_time/",
data: datastring,
success: function(resp){
$(".table-transit > tbody").html("<tr><td>"+origin+"</td><td>"+destination+"</td><td>"+dest_pincode+"</td><td>"+pickup_date+"</td><td>"+resp+"</td></tr>"); 
}
});
return false;



});
});


</script>


{% endblock %}
          	
